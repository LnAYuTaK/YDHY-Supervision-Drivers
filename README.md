# 监理设备
## 引脚说明
---
### stm32f103引脚说明
| 引脚        | 引脚说明                                                         |
| ------------ | ------------------------------------------------------------ |
| PC13 |  RGB灯R |
| PC14 | RGB灯G  |
| PC15 | RGB灯B  |
| PD0  | 晶振RCC_OSC_IN  |
| PD1  | 晶振RCC_OSC_OUT  |
| PC1  | 掉电监测中断  |
| PA12 | 流量计1脉冲计数器TIM1  |
| PA15 | 流量计2脉冲计数器TIM2  |
| PD2  | 流量计3脉冲计TIM3  |     
| PA0  | 流量计4脉冲计TIM8  |                               
| PA2  | 4G模块串口TX  |
| PA3  | 4G模块串口RX  |
| PA9  | GPS模块串口TX  |
| PA10 | GPS模块串口RX  |
| PB10 | 调试串口TX  | 
| PB11 | 调试串口RX  |
| PC10 | 串口预留TX  |
| PC11 | 串口预留RX  |
| PA13 | 调试口SWD_IO  |
| PA14 | 调试口SWD_CLK  |
| PA4  | ADC1_IN4  |
| PA5  | ADC1_IN5  |
| PA6  | ADC1_IN6  |
| PA7  | ADC1_IN7  |
### 合宙Air724 4G模块引脚说明
| 引脚        | 引脚说明                                                         |
| ------------ | ------------------------------------------------------------ |
| RXD1 | stm32串口通讯 |
| TXD1 | stm32串口通讯 |
| RXD3 | DEBUG|
| TXD3 | DEBUG |
| IO14 | 掉电检测 |
| IO15 | 按键上传ftp |
## 功能描述
1. 32端作为采集数据端实时采集GPS数据，压力计，流量计数据通过串口发送到4G模块
转发给后端服务器
2. 4G模块接收32采集端数据写入sd卡中。
3. 可以通过按键 将ftp当日的数据文件回传到ftp 服务器。
4. 系统状态通过显示灯状态显示
## 状态灯状态说明
| 显示状态        | 状态说明                                                         |
| ------------ | ------------------------------------------------------------ |
| 绿灯单闪 | 正常工作 |
| 蓝色单闪 | 回传ftp数据 |
| 红色双闪 | SD卡报错 |
| 红色三闪 | 4G模块出现错误或者4G模块出现网络问题 |
| 红色单闪 | GPS模块未搜到星 |
| 红色常亮 | 电压错误  |


 


